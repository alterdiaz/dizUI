select j.idjurnal,
convert(varchar,j.tanggaljurnal,105) +' '+ convert(varchar,j.tanggaljurnal,108) as tanggaljurnal,
j.idcoa, l.coa as coalama, c.coa, c.remarks as rekening,
j.remarks as keterangan, isnull(d.jumlahuang,0) as debet, isnull(k.jumlahuang,0) as kredit 
from jurnal j 
left join coa c on j.idcoa=c.idcoa and c.idcompany=(select top 1 value from sys_appsetting where variable='CompanyID') 
left join coa l on j.idcoalama=l.idcoa and l.idcompany=(select top 1 value from sys_appsetting where variable='CompanyID') 
left join (
select j.idjurnal,isnull(j.jumlahuang,0) as jumlahuang from jurnal j where j.posisidk=2 
and j.idcompany=(select top 1 value from sys_appsetting where variable='CompanyID') 
and convert(varchar,j.tanggaljurnal,105)=*tanggal*
) d on j.idjurnal=d.idjurnal 
left join (
select j.idjurnal,isnull(j.jumlahuang,0) as jumlahuang from jurnal j where j.posisidk=1 
and j.idcompany=(select top 1 value from sys_appsetting where variable='CompanyID') 
and convert(varchar,j.tanggaljurnal,105)=*tanggal*
) k on j.idjurnal=k.idjurnal 
where j.idcompany=(select top 1 value from sys_appsetting where variable='CompanyID') 
and convert(varchar,j.tanggaljurnal,105)=*tanggal*
order by j.tanggaljurnal asc